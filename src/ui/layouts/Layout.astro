---
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
---

<!doctype html>
<html lang="en" class="dark">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<title>Astro Basics</title>

		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
		<link href="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.css" rel="stylesheet" />
		<script src="https://cdn.jsdelivr.net/npm/flowbite@2.5.2/dist/flowbite.min.js"></script>
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Urbanist:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
	</head>
	<body>
		<Header/>
		<slot/>
		<Footer/>
		<script>
			if (window.location.pathname !== '/projects' && window.location.pathname !== '/contact-us') {
				window.addEventListener('scroll', () => {
					const navLinks = document.querySelectorAll('.nav-link');
					const headerLogo = document.getElementById('headerLogo');
					const header = document.querySelector('header nav');
					const hamburgerButton = document.querySelector('[data-collapse-toggle="mobile-menu-2"]');
					const scrolled = window.scrollY > (window.innerHeight - 100);
					const atTop = window.scrollY === 0;
					
					navLinks.forEach(link => {
						if (scrolled) {
							link.classList.remove('text-white');
							link.classList.add('text-black');
						} else {
							link.classList.remove('text-black');
							link.classList.add('text-white');
						}
					});

					if (scrolled) {
						headerLogo?.classList.remove('text-white');
						headerLogo?.classList.add('text-black');
						hamburgerButton?.classList.remove('text-white');
						hamburgerButton?.classList.add('text-black');
						header?.classList.remove('bg-transparent', 'bg-black');
						header?.classList.add('bg-white', 'border-b', 'border-gray-200');
					} else {
						headerLogo?.classList.remove('text-black');
						headerLogo?.classList.add('text-white');
						hamburgerButton?.classList.remove('text-black');
						hamburgerButton?.classList.add('text-white');
						header?.classList.remove('bg-white', 'border-b', 'border-gray-200');
						if (atTop) {
							header?.classList.remove('bg-black');
							header?.classList.add('bg-transparent');
						} else {
							header?.classList.remove('bg-transparent');
							header?.classList.add('bg-black');
						}
					}
				});
			} else {
				// For other non-index pages
				const navLinks = document.querySelectorAll('.nav-link');
				const headerLogo = document.getElementById('headerLogo');
				const header = document.querySelector('header nav');
				const hamburgerButton = document.querySelector('[data-collapse-toggle="mobile-menu-2"]');

				navLinks.forEach(link => {
					link.classList.remove('text-white');
					link.classList.add('text-black');
				});

				headerLogo?.classList.remove('text-white');
				headerLogo?.classList.add('text-black');
				hamburgerButton?.classList.remove('text-white');
				hamburgerButton?.classList.add('text-black');
				header?.classList.remove('bg-transparent', 'bg-black');
				header?.classList.add('bg-white', 'border-b', 'border-gray-200');
			}
		</script>
	</body>
</html>

<style is:global>
	*{
		font-family: 'Urbanist', sans-serif;
	}

	html,
	body {
		margin: 0;
		width: 100%;
		font-family: 'Poppins', sans-serif;
	}

	h1, h2, h3, h4, h5, h6, p, a{
		
	}

	a {
		display: inline-block;
	}

	.gradient-custom{
		background: rgb(255,248,242);
		background: -moz-linear-gradient(180deg, rgba(255,248,242,1) 50%, rgba(255,255,255,1) 50%);
		background: -webkit-linear-gradient(180deg, rgba(255,248,242,1) 50%, rgba(255,255,255,1) 50%);
		background: linear-gradient(180deg, rgba(255,248,242,1) 50%, rgba(255,255,255,1) 50%);
		filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="#fff8f2",endColorstr="#ffffff",GradientType=1);
	}

	.gradient-custom-dark{
		background: rgb(45,28,18);
		background: -moz-linear-gradient(180deg, rgba(45,28,18,1) 50%, rgba(255,255,255,1) 50%);
		background: -webkit-linear-gradient(180deg, rgba(45,28,18,1) 50%, rgba(255,255,255,1) 50%);
		background: linear-gradient(180deg, rgba(45,28,18,1) 50%, rgba(255,255,255,1) 50%);
		filter: progid:DXImageTransform.Microsoft.gradient(startColorstr="rgb(45,28,18)",endColorstr="#ffffff",GradientType=1);
	}

	#themeToggle {
		display: none;
	}

	@keyframes slide {
		0% { transform: translateX(0); }
		50% { transform: translateX(10px); }
		100% { transform: translateX(0); }
	}
	
	.animate-slide {
            animation: slide 3s ease-in-out infinite;
	}

	@media only screen and (min-width: 390px) {
		#themeToggle {
			display: inline-block;
		}
	}
</style>
